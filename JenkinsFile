pipeline {
    agent any
    stages {
        stage('SCM Checkout') {
            steps {
                script {
                    // Configure Git and use credentials
                   git 'https://github.com/huzaifa-123/SPM-Semester-Project.git'
                }
            }
        }
        stage('Build') {
            steps {
                echo 'Building...'
                // Your build steps here
            }
        }
        
        stage('Unit Test') {
            steps {
                echo 'Running unit tests...'
                // Your unit test command here
            }
        }
        
        stage('Integration Test') {
            steps {
                echo 'Running integration tests...'
                // Your integration test command here
            }
        }
        
        stage('End-to-End Test') {
            steps {
                echo 'Running end-to-end tests...'
                // Your end-to-end test command here
            }
        }
        
        stage('SonarQube Analysis') {
            steps {
                script {
                    // Define the Maven tool
                    def mvnHome = tool name: 'maven-3', type: 'maven'
                    
                    // Replace the SonarQube properties with your actual values
                    def sonarProperties = [
                        '-Dsonar.projectKey=spmproject',
                        '-Dsonar.projectName=spmproject',
                        '-Dsonar.host.url=http://localhost:9000',
                        '-Dsonar.login=sqp_06b333639bfbf6d6a2c63c40d97e56b115db04a7'
                    ].join(' ')
                    
                }
            }
        }
        
        stage('Deploy') {
            steps {
                echo 'Deploying...'
                // Your deployment steps here
            }
        }
    }
    
    post {
        always {
            echo 'Post-build cleanup...'
            // Any cleanup steps here
        }
        
        success {
            echo 'Pipeline succeeded! All tests passed.'
            // Additional success actions
        }
        
        failure {
            echo 'Pipeline failed! Tests may have failed.'
            // Additional failure actions
        }
    }
}
